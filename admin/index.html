<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin • Conexão OPER</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Montserrat:wght@600;700&display=swap">
    <link rel="stylesheet" href="../css/blog-admin.css">
</head>

<body class="admin-body">
    <div class="admin-wrapper">
        <section id="adminLoginView" class="admin-card admin-login">
            <h1>Área Administrativa</h1>
            <p>Gerencie matérias, imagens e metadados do Blog Conexão OPER.</p>
            <form id="loginForm" autocomplete="off">
                <div>
                    <label for="loginUsername">Usuário</label>
                    <input type="text" id="loginUsername" name="username" autofocus required value="admin">
                </div>
                <div>
                    <label for="loginPassword">Senha</label>
                    <input type="password" id="loginPassword" name="password" required placeholder="Digite sua senha">
                </div>
                <button type="submit" class="admin-btn primary">Entrar</button>
                <small>Usuário padrão: <code>admin</code> — Senha padrão: <code>oper@365</code></small>
            </form>
        </section>

        <section id="adminDashboardView" class="admin-dashboard hidden">
            <header class="admin-header">
                <div>
                    <h1>Conexão OPER • Blog Admin</h1>
                    <p class="admin-status" data-admin-status>Carregando base de dados…</p>
                </div>
                <div class="admin-actions">
                    <input type="file" id="importInput" accept="application/json" hidden>
                    <button type="button" id="btnImportData" class="admin-btn outline">Importar JSON</button>
                    <button type="button" id="btnDownloadData" class="admin-btn outline">Baixar JSON</button>
                    <button type="button" id="btnNewPost" class="admin-btn primary">Nova matéria</button>
                    <button type="button" id="btnLogout" class="admin-btn outline">Sair</button>
                </div>
            </header>

            <div class="admin-main">
                <aside class="admin-sidebar">
                    <div class="admin-search">
                        <input type="search" id="adminSearchInput" placeholder="Filtrar por título, tag ou categoria">
                    </div>
                    <ul id="adminPostList" class="admin-post-list"></ul>
                </aside>

                <section class="admin-editor">
                    <h2 data-editor-title>Nova matéria</h2>
                    <form id="postEditorForm" novalidate>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="postTitle">Título</label>
                                <input type="text" id="postTitle" name="title" required>
                            </div>
                            <div class="form-group">
                                <label for="postSlug">Slug</label>
                                <input type="text" id="postSlug" name="slug" required>
                                <small>Gerado automaticamente a partir do título. Utilize somente letras, números e hífens.</small>
                            </div>
                            <div class="form-group">
                                <label for="postStatus">Status</label>
                                <select id="postStatus" name="status">
                                    <option value="published">Publicado</option>
                                    <option value="draft">Rascunho</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="postCriticality">Criticidade</label>
                                <select id="postCriticality" name="criticality">
                                    <option value="low">Baixa</option>
                                    <option value="medium">Média</option>
                                    <option value="high">Alta</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="postPublishedAt">Publicado em</label>
                                <input type="datetime-local" id="postPublishedAt" name="publishedAt">
                            </div>
                            <div class="form-group">
                                <label for="postReadingTime">Tempo de leitura (min)</label>
                                <input type="number" id="postReadingTime" name="readingTimeMinutes" min="1" value="3">
                            </div>
                        </div>

                        <div class="form-grid">
                            <div class="form-group">
                                <label for="postHeroImage">Imagem destacada (caminho)</label>
                                <input type="text" id="postHeroImage" name="heroImageSrc" placeholder="ex: temp_images/nova-imagem.jpg">
                            </div>
                            <div class="form-group">
                                <label for="postHeroAlt">Texto alternativo</label>
                                <input type="text" id="postHeroAlt" name="heroImageAlt">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="postSummary">Resumo</label>
                            <textarea id="postSummary" name="summary" placeholder="Resumo exibido nos cards. Deixe vazio para gerar automaticamente."></textarea>
                        </div>

                        <div class="form-grid">
                            <div class="form-group">
                                <label for="postTags">Tags (separadas por vírgula)</label>
                                <input type="text" id="postTags" name="tags" placeholder="ex: Indicadores, Facilities">
                            </div>
                            <div class="form-group">
                                <label for="postCategories">Categorias (separadas por vírgula)</label>
                                <input type="text" id="postCategories" name="categories" placeholder="ex: Processos, Tecnologia">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="postContent">Conteúdo (Markdown básico aceito: títulos com #, listas usando - ou 1.)</label>
                            <textarea id="postContent" name="content" required></textarea>
                        </div>

                        <fieldset>
                            <legend>SEO</legend>
                            <div class="form-group">
                                <label for="postSeoDescription">Descrição</label>
                                <textarea id="postSeoDescription" name="seoDescription" placeholder="Descrição para motores de busca"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="postSeoKeywords">Palavras-chave (separadas por vírgula)</label>
                                <input type="text" id="postSeoKeywords" name="seoKeywords" placeholder="ex: manutenção, automação, compliance">
                            </div>
                        </fieldset>

                        <fieldset>
                            <legend>FAQ</legend>
                            <div id="faqList" class="faq-list"></div>
                            <button type="button" id="btnAddFaq" class="admin-btn outline">Adicionar pergunta</button>
                        </fieldset>

                        <div class="form-actions">
                            <button type="button" id="btnDeletePost" class="admin-btn danger">Excluir matéria</button>
                            <div class="action-group">
                                <button type="button" id="btnResetForm" class="admin-btn outline">Descartar alterações</button>
                                <button type="submit" class="admin-btn primary">Salvar matéria</button>
                            </div>
                        </div>
                    </form>
                </section>
            </div>
        </section>
    </div>

    <div id="adminToast" class="admin-toast" role="status" aria-live="polite"></div>

    <script src="../js/blog-admin.js"></script>
</body>

</html>
